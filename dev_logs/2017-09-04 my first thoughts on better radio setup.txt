First thoughts on making radios more better
Development log from 2017-09-04
Aaron Morrison

In the official project proposal for RLCSv2, I had a point that basically summed up to "the radio setup we had at IREC2017 was crap, we need to make it better". I didn't have any idea at the time what that would entail, but I've now read three different facebook posts on why we need to abolish the federal reserve to maintain State's Rights, so I'm pretty much an expert on RF now, and writing down what I think "making it better" will mean.

Sorry for the sarcasm, I'm kinda sleep deprived and typing this on a train. In all seriousness, I've done a small amount of preliminary reading, but "radio" is a big topic, so I might be wrong on all of this. I'm writing down what I know now, if I later discover something else, I'll write another note. If you notice anything in here that's trivially wrong, please do point that out to me.

Anyways, let's talk about our radios. First off, a tiny bit of background: Radios like line of sight between sender and receiver. However, "line of sight" doesn't actually mean "a straight line with nothing between it", it's more of an ellipse that you don't want any obstructions in. This ellipse is called the "Fresnel zone" (maybe misspelled here), and radios work best when it's clear of anything the radio wave could bounce off of. The semi-major axis of this zone (or, approximately how high your radios need to be mounted above the ground) is a function of your operating frequency and the distance between your antennas. At the 900MHz 1km-ish we work at, our radios should be mounted about 30 feet off the ground.

Note, we don't actually mount our radios that high, they're more like 5 feet. This is kinda terrible, and it's the major reason our radios are crap (you can also say "why the hell are you using omni-directional antennas instead of high gain directional ones", but honestly the obstructions are the bigger deal). Before we worry about antenna geometry, we should fix this issue.

The obvious first course of action is to mount the tower side antenna on the tower, since it shouldn't be too hard (I need to talk to Hilbert and/or Emily in the next few days to sort out the feasibility of this). However, radios are weird, and from what small amount I've learned, they don't really like big metal things close to them, so we need to sort out an arm or something that can hold it at a distance from the tower. It would also probably be bad to have the tower between the sender and receiver, so the arm needs to be on the correct side (which means we need to be able to switch the direction easily, since we don't know right now what way IREC wants us to launch the rocket).

We'll also need a tower (30 feet is probably excessive and unnecessary, but something at least) on the client side. That's mostly a later problem though, so I'll come back to the mechanical side of that eventually. For now let's just say "we need an antenna 20 or 30 feet up. How do?". My Feelings Based Engineering approach to this would be to mount the whole transceiver (it's not that heavy) with the antenna at the proper height. There's a couple reasons for this, namely

- I don't know how antenna feedlines work. Yes we could just slap some coax on the output of the xbee to the input of the antenna, but that attenuates the signal and adds output impedance and changes the reactance and resonance and a bunch of other high frequency stuff that I don't pretend to know. Yes, it can be done, but I don't think I can do it.
- Radio grade coax cable is expensive. I'm rather cheap, and 9600 baud UART can probably (needs testing) be managed over cat5, which costs effectively nothing.
- Digital attenuation is less error causing than  analog radio attenuation. Probably. I don't actually know. But that's a statement that seems like it'd be true, so it stands.

Anyways, yeah. My plan is to put the xbee in a box in a tower, and feed it power and UART data through a cat 5 cable. It's possible that we'll need signal repeaters or amplifiers, but that's a heck of a lot easier to test than radio quality.

So that's the altitude issue, and my very hazy plan for fixing it. As to antenna geometry, I'd like to stick with our omni directional 3.1 (i think) dBm antenna at the tower, because it still gets signal regardless of which way it's pointed (and we can't adjust it's direction easily once the tower with the rocket on it is up). If we really wanted to, we could buy or build a kickass directional high gain antenna at the client side, where we could easily point it wherever we want. However, that's probably unnecessary for the way we want to use it. A kilometer at 900MHz doesn't need that much sophistication, what we run now is probably already overkill.

Same goes for full ham certification and high power HF transceivers. They'd be really cool, and if we ever have time and money to burn on them, I'd like to look into it, but at present, I'm gonna go with not necessary. I'm gonna devote more time to mounting antennas higher, and if that fixes our problems (if we successfully test to a FoS of 2 or so), then I'm gonna call the radio problem "fixed".
